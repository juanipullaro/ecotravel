{% extends "base.html" %}
{% block body %}
{% include "navbar.html" %}>
<link rel="stylesheet" href="./static/css/account.css">
<link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">

<div class="tab">
    <button class="tablinks" onclick="openCity(event, 'Perfil')" id="defaultOpen">Perfil</button>
    <button class="tablinks" onclick="openCity(event, 'Calificaciones')">Calificaciones</button>
    <button class="tablinks" onclick="openCity(event, 'Alertas')">Mis alertas</button>
  </div>
  
  <div id="Perfil" class="tabcontent">
      <article class="media content-section1">
          <img class="rounded-circle article-img1" src="{{ image_file }}">
          <div class="media-body1">
              <div class="article-metadata1">
                  <a class="mr1-2" href="#">{{ current_user.name|capitalize}} {{ current_user.surname|capitalize}} </a>
                  <button type="button" class="btn-editprofile" onclick="openCity(event, 'Editar')">Editar perfil</button>
              </div>
              <div class="data">
                  <i class="fa fa-quote-left" aria-hidden="true"></i><div class="comentaccount">{{current_user.content}}</div>
                  <i class="fa fa-user" aria-hidden="true"></i><div class="usernameaccount">{{ current_user.username }} </div>
                  <i class="fa fa-envelope" aria-hidden="true"></i> <div class="emailaccount">{{ current_user.email }} </div>
                  <i class="fa fa-mobile bigger" aria-hidden="true"></i> <div class="phoneaccount">{{current_user.phone}}</div>           
              </div>
          </div>
      </article>
  </div>
       

  <div id="Editar" class="tabcontent">
    <div id="signin-box-account" class="signin-box-account">
      <div class="signin-area-account">
        <form method="POST" action="" enctype="multipart/form-data">
          {{ form.hidden_tag() }}
          <fieldset class="form-group">
              <legend class="border-bottom mb-4">Actualizá tus datos</legend>
              <div class="form-group">
                  {{ form.username.label(class="form-control-label") }}
                  {% if form.username.errors %}
                      {{ form.username(class="form-control form-control-lg is-invalid") }}
                      <div class="invalid-feedback">
                          {% for error in form.username.errors %}
                              <span>{{ error }}</span>
                          {% endfor %}
                      </div>
                  {% else %}
                      {{ form.username(class="form-control form-control-lg") }}
                  {% endif %}
              </div>
              <div class="form-group">
                  {{ form.email.label(class="form-control-label") }}
                  {% if form.email.errors %}
                      {{ form.email(class="form-control form-control-lg is-invalid") }}
                      <div class="invalid-feedback">
                          {% for error in form.email.errors %}
                              <span>{{ error }}</span>
                          {% endfor %}
                      </div>
                  {% else %}
                      {{ form.email(class="form-control form-control-lg") }}
                  {% endif %}
              </div>
              <div class="form-group">
                  {{ form.picture.label() }}
                  {{ form.picture(class="form-control-file") }}
                  {% if form.picture.errors %}
                      {% for error in form.picture.errors %}
                          <span class="text-danger">{{ error }}</span></br>
                      {% endfor %}
                  {% endif %}
              </div>
          </fieldset>
          <div class="form-group">
              {{ form.submit(class="btn btn-outline-info") }}
          </div>
      </form>
   </div>
    </div>
  </div>
  <script>
    function openCity(evt, cityName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      document.getElementById(cityName).style.display = "block";
      evt.currentTarget.className += " active";
    }
    
    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();
    const btnStatus =document.getElementById("status");
    const btnHidden =document.getElementsByClassName("btn-downtravel")[0];
    window.addEventListener("load",()=>{
      console.log(btnStatus.textContent);
      if(btnStatus.textContent=='Se canceló tu solicitud' || btnStatus.textContent=='Rechazada' ){
        btnHidden.setAttribute("hidden",true)
      };
    })
   
    </script>
{% endblock body %}-->